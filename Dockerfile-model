FROM winglian/runpod-worker-vllm:latest

ARG HUGGING_FACE_HUB_TOKEN=""
ARG MODEL_NAME=""
ENV MODEL_NAME=${MODEL_NAME}
ARG MODEL_REVISION="main"
ENV MODEL_REVISION=${MODEL_REVISION}
ARG MODEL_BASE_PATH="/runpod-volume/"
ENV MODEL_BASE_PATH=${MODEL_BASE_PATH}

RUN HUGGING_FACE_HUB_TOKEN=$HUGGING_FACE_HUB_TOKEN python download_model.py

COPY src/handler.py .